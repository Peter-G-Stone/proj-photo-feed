{"ast":null,"code":"import _classCallCheck from \"/Users/peter/Development/code/proj-photo-feed/photo-feed-react/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/peter/Development/code/proj-photo-feed/photo-feed-react/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/peter/Development/code/proj-photo-feed/photo-feed-react/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/peter/Development/code/proj-photo-feed/photo-feed-react/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/peter/Development/code/proj-photo-feed/photo-feed-react/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/peter/Development/code/proj-photo-feed/photo-feed-react/src/components/Pics/Pic.js\";\nimport React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport { savePic, unSavePic, fetchArtistPics } from '../../actions/picActions';\nimport { Link, withRouter } from \"react-router-dom\";\nimport Button from 'react-bootstrap/Button';\n\nvar Pic =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(Pic, _Component);\n\n  function Pic(props) {\n    var _this;\n\n    _classCallCheck(this, Pic);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Pic).call(this, props));\n\n    _this.handleSavePic = function (e) {\n      e.preventDefault();\n\n      _this.props.savePic(_this.props.pic);\n    };\n\n    _this.handleUnSavePic = function (e) {\n      e.preventDefault();\n\n      _this.props.unSavePic(_this.props.pic);\n    };\n\n    _this.handleArtistLinkClick = function (e) {// this.props.fetchArtistPics(this.props.pic.artist_id)\n    };\n\n    _this.renderSaveToggle = function () {\n      if (_this.props.currentUser.username) {\n        var userHasSavedPic = _this.props.currentUser.pics.map(function (picIdObj) {\n          return picIdObj.id;\n        }).includes(_this.props.pic.id);\n\n        if (userHasSavedPic) {\n          return React.createElement(\"p\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 38\n            },\n            __self: this\n          }, React.createElement(Button, {\n            variant: \"primary\",\n            onClick: function onClick(e) {\n              return _this.handleUnSavePic(e);\n            },\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 38\n            },\n            __self: this\n          }, \"UnSave\"), \" from \", React.createElement(Link, {\n            to: \"/your_collection\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 38\n            },\n            __self: this\n          }, \"Your Collection\"));\n        } else {\n          return React.createElement(\"p\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 40\n            },\n            __self: this\n          }, React.createElement(Button, {\n            variant: \"primary\",\n            onClick: function onClick(e) {\n              return _this.handleSavePic(e);\n            },\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 40\n            },\n            __self: this\n          }, \"Save\"));\n        }\n      }\n    };\n\n    _this.renderCounter = function () {\n      return React.createElement(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 46\n        },\n        __self: this\n      }, React.createElement(Button, {\n        variant: \"dark\",\n        onClick: function onClick(e) {\n          return _this.incrementCounter();\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 46\n        },\n        __self: this\n      }, \"Click me! \", _this.state.counter));\n    };\n\n    _this.incrementCounter = function () {\n      // this.setState((prevState) => ({\n      //     counter: prevState.counter += 1\n      // }))\n      fetch('http://localhost:3001/api/find_user_with_token', {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\",\n          \"Authorization\": \"Bearer \".concat(localStorage.token)\n        },\n        body: JSON.stringify({\n          token: localStorage.token\n        })\n      }).then(function (resp) {\n        return resp.json();\n      }).then(function (respJSON) {\n        return console.log(respJSON);\n      });\n    };\n\n    _this.state = {\n      counter: 0\n    };\n    return _this;\n  }\n\n  _createClass(Pic, [{\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var pic = this.props.pic;\n      var artistLink = '/artists/' + pic.artist.id;\n      return React.createElement(React.Fragment, null, React.createElement(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 73\n        },\n        __self: this\n      }, React.createElement(\"img\", {\n        alt: \"picInList\",\n        src: pic.url,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 73\n        },\n        __self: this\n      })), React.createElement(Link, {\n        to: artistLink,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 74\n        },\n        __self: this\n      }, pic.artist.name), this.renderSaveToggle(), React.createElement(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 77\n        },\n        __self: this\n      }, React.createElement(Button, {\n        variant: \"dark\",\n        onClick: function onClick(e) {\n          return _this2.incrementCounter();\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 77\n        },\n        __self: this\n      }, \"Click me! \", this.state.counter)), React.createElement(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 78\n        },\n        __self: this\n      }, \" - \"));\n    }\n  }]);\n\n  return Pic;\n}(Component);\n\nvar mapStateToProps = function mapStateToProps(state) {\n  return {\n    currentUser: state.authReducer.currentUser\n  };\n};\n\nexport default withRouter(connect(mapStateToProps, {\n  savePic: savePic,\n  unSavePic: unSavePic,\n  fetchArtistPics: fetchArtistPics\n})(Pic));","map":{"version":3,"sources":["/Users/peter/Development/code/proj-photo-feed/photo-feed-react/src/components/Pics/Pic.js"],"names":["React","Component","connect","savePic","unSavePic","fetchArtistPics","Link","withRouter","Button","Pic","props","handleSavePic","e","preventDefault","pic","handleUnSavePic","handleArtistLinkClick","renderSaveToggle","currentUser","username","userHasSavedPic","pics","map","picIdObj","id","includes","renderCounter","incrementCounter","state","counter","fetch","method","headers","localStorage","token","body","JSON","stringify","then","resp","json","respJSON","console","log","artistLink","artist","url","name","mapStateToProps","authReducer"],"mappings":";;;;;;AAAA,OAAOA,KAAP,IAAeC,SAAf,QAA+B,OAA/B;AACA,SAAQC,OAAR,QAAsB,aAAtB;AACA,SAASC,OAAT,EAAkBC,SAAlB,EAA6BC,eAA7B,QAAoD,0BAApD;AACA,SAASC,IAAT,EAAeC,UAAf,QAAiC,kBAAjC;AACA,OAAOC,MAAP,MAAmB,wBAAnB;;IAKMC,G;;;;;AACF,eAAYC,KAAZ,EAAmB;AAAA;;AAAA;;AACf,6EAAMA,KAAN;;AADe,UAOnBC,aAPmB,GAOH,UAACC,CAAD,EAAO;AACnBA,MAAAA,CAAC,CAACC,cAAF;;AACA,YAAKH,KAAL,CAAWP,OAAX,CAAmB,MAAKO,KAAL,CAAWI,GAA9B;AAEH,KAXkB;;AAAA,UAanBC,eAbmB,GAaD,UAACH,CAAD,EAAO;AACrBA,MAAAA,CAAC,CAACC,cAAF;;AACA,YAAKH,KAAL,CAAWN,SAAX,CAAqB,MAAKM,KAAL,CAAWI,GAAhC;AACH,KAhBkB;;AAAA,UAkBnBE,qBAlBmB,GAkBK,UAACJ,CAAD,EAAO,CAC3B;AAEH,KArBkB;;AAAA,UAuBnBK,gBAvBmB,GAuBA,YAAM;AACrB,UAAI,MAAKP,KAAL,CAAWQ,WAAX,CAAuBC,QAA3B,EAAoC;AAChC,YAAIC,eAAe,GAAG,MAAKV,KAAL,CAAWQ,WAAX,CAAuBG,IAAvB,CAA4BC,GAA5B,CAAgC,UAAAC,QAAQ;AAAA,iBAAIA,QAAQ,CAACC,EAAb;AAAA,SAAxC,EAAyDC,QAAzD,CAAkE,MAAKf,KAAL,CAAWI,GAAX,CAAeU,EAAjF,CAAtB;;AACA,YAAIJ,eAAJ,EAAqB;AACjB,iBAAO;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,aAAG,oBAAC,MAAD;AAAQ,YAAA,OAAO,EAAC,SAAhB;AAA0B,YAAA,OAAO,EAAE,iBAACR,CAAD;AAAA,qBAAO,MAAKG,eAAL,CAAqBH,CAArB,CAAP;AAAA,aAAnC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBAAH,YAA2F,oBAAC,IAAD;AAAM,YAAA,EAAE,EAAC,kBAAT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,+BAA3F,CAAP;AACH,SAFD,MAEO;AACH,iBAAO;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,aAAG,oBAAC,MAAD;AAAQ,YAAA,OAAO,EAAC,SAAhB;AAA0B,YAAA,OAAO,EAAE,iBAACA,CAAD;AAAA,qBAAO,MAAKD,aAAL,CAAmBC,CAAnB,CAAP;AAAA,aAAnC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAAH,CAAP;AACH;AACJ;AACJ,KAhCkB;;AAAA,UAkCnBc,aAlCmB,GAkCH,YAAM;AAClB,aAAO;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAAG,oBAAC,MAAD;AAAQ,QAAA,OAAO,EAAC,MAAhB;AAAuB,QAAA,OAAO,EAAE,iBAACd,CAAD;AAAA,iBAAO,MAAKe,gBAAL,EAAP;AAAA,SAAhC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBAA2E,MAAKC,KAAL,CAAWC,OAAtF,CAAH,CAAP;AACH,KApCkB;;AAAA,UAsCnBF,gBAtCmB,GAsCA,YAAM;AACrB;AACA;AACA;AAEAG,MAAAA,KAAK,CAAC,gDAAD,EAAmD;AACpDC,QAAAA,MAAM,EAAE,MAD4C;AAEpDC,QAAAA,OAAO,EAAE;AACL,0BAAgB,kBADX;AAEL,4CAA2BC,YAAY,CAACC,KAAxC;AAFK,SAF2C;AAMpDC,QAAAA,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAe;AAACH,UAAAA,KAAK,EAAED,YAAY,CAACC;AAArB,SAAf;AAN8C,OAAnD,CAAL,CAQCI,IARD,CAQM,UAAAC,IAAI;AAAA,eAAIA,IAAI,CAACC,IAAL,EAAJ;AAAA,OARV,EASCF,IATD,CASM,UAAAG,QAAQ;AAAA,eAAIC,OAAO,CAACC,GAAR,CAAYF,QAAZ,CAAJ;AAAA,OATd;AAUH,KArDkB;;AAEf,UAAKb,KAAL,GAAa;AACTC,MAAAA,OAAO,EAAE;AADA,KAAb;AAFe;AAKlB;;;;6BAmDS;AAAA;;AACN,UAAMf,GAAG,GAAG,KAAKJ,KAAL,CAAWI,GAAvB;AACA,UAAM8B,UAAU,GAAG,cAAc9B,GAAG,CAAC+B,MAAJ,CAAWrB,EAA5C;AAEA,aACI,0CACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAAG;AAAK,QAAA,GAAG,EAAC,WAAT;AAAqB,QAAA,GAAG,EAAEV,GAAG,CAACgC,GAA9B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAAH,CADJ,EAEI,oBAAC,IAAD;AAAM,QAAA,EAAE,EAAEF,UAAV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAAuB9B,GAAG,CAAC+B,MAAJ,CAAWE,IAAlC,CAFJ,EAIK,KAAK9B,gBAAL,EAJL,EAKI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAAG,oBAAC,MAAD;AAAQ,QAAA,OAAO,EAAC,MAAhB;AAAuB,QAAA,OAAO,EAAE,iBAACL,CAAD;AAAA,iBAAO,MAAI,CAACe,gBAAL,EAAP;AAAA,SAAhC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBAA2E,KAAKC,KAAL,CAAWC,OAAtF,CAAH,CALJ,EAMI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,eANJ,CADJ;AAUH;;;;EAvEa5B,S;;AA0ElB,IAAM+C,eAAe,GAAG,SAAlBA,eAAkB,CAACpB,KAAD,EAAW;AAC/B,SAAO;AAACV,IAAAA,WAAW,EAAEU,KAAK,CAACqB,WAAN,CAAkB/B;AAAhC,GAAP;AACH,CAFD;;AAIA,eAAeX,UAAU,CAACL,OAAO,CAAC8C,eAAD,EAAkB;AAAC7C,EAAAA,OAAO,EAAPA,OAAD;AAAUC,EAAAA,SAAS,EAATA,SAAV;AAAqBC,EAAAA,eAAe,EAAfA;AAArB,CAAlB,CAAP,CAAgEI,GAAhE,CAAD,CAAzB","sourcesContent":["import React, {Component} from 'react';\nimport {connect} from 'react-redux'\nimport { savePic, unSavePic, fetchArtistPics } from '../../actions/picActions'\nimport { Link, withRouter } from \"react-router-dom\";\nimport Button from 'react-bootstrap/Button'\n\n\n\n\nclass Pic extends Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            counter: 0\n        }\n    }\n\n    handleSavePic = (e) => {\n        e.preventDefault()\n        this.props.savePic(this.props.pic)\n        \n    }\n\n    handleUnSavePic = (e) => {\n        e.preventDefault()\n        this.props.unSavePic(this.props.pic)\n    }\n    \n    handleArtistLinkClick = (e) => {\n        // this.props.fetchArtistPics(this.props.pic.artist_id)\n\n    }\n\n    renderSaveToggle = () => {\n        if (this.props.currentUser.username){\n            let userHasSavedPic = this.props.currentUser.pics.map(picIdObj => picIdObj.id).includes(this.props.pic.id)\n            if (userHasSavedPic) {\n                return <p><Button variant=\"primary\" onClick={(e) => this.handleUnSavePic(e)}>UnSave</Button> from <Link to=\"/your_collection\">Your Collection</Link></p>\n            } else {\n                return <p><Button variant=\"primary\" onClick={(e) => this.handleSavePic(e)}>Save</Button></p>\n            }\n        }\n    }\n\n    renderCounter = () => {\n        return <p><Button variant=\"dark\" onClick={(e) => this.incrementCounter()}>Click me! {this.state.counter}</Button></p>\n    }\n\n    incrementCounter = () => {\n        // this.setState((prevState) => ({\n        //     counter: prevState.counter += 1\n        // }))\n\n        fetch('http://localhost:3001/api/find_user_with_token', {\n            method: \"POST\",\n            headers: {\n                \"Content-Type\": \"application/json\",\n                \"Authorization\": `Bearer ${localStorage.token}`\n            },\n            body: JSON.stringify({token: localStorage.token})            \n        })\n        .then(resp => resp.json())\n        .then(respJSON => console.log(respJSON))\n    }\n\n    \n    render () {\n        const pic = this.props.pic\n        const artistLink = '/artists/' + pic.artist.id\n        \n        return (\n            <>\n                <p><img alt=\"picInList\" src={pic.url}/></p>\n                <Link to={artistLink}>{pic.artist.name}</Link>\n                \n                {this.renderSaveToggle()}\n                <p><Button variant=\"dark\" onClick={(e) => this.incrementCounter()}>Click me! {this.state.counter}</Button></p>\n                <p> - </p>\n            </>\n        )\n    }\n} \n\nconst mapStateToProps = (state) => {\n    return {currentUser: state.authReducer.currentUser}\n}\n\nexport default withRouter(connect(mapStateToProps, {savePic, unSavePic, fetchArtistPics})(Pic))"]},"metadata":{},"sourceType":"module"}