{"ast":null,"code":"import _classCallCheck from \"/Users/peter/Development/code/proj-photo-feed/photo-feed-react/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/peter/Development/code/proj-photo-feed/photo-feed-react/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/peter/Development/code/proj-photo-feed/photo-feed-react/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/peter/Development/code/proj-photo-feed/photo-feed-react/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/peter/Development/code/proj-photo-feed/photo-feed-react/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/peter/Development/code/proj-photo-feed/photo-feed-react/src/components/Pics/Pic.js\";\nimport React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport { savePic as _savePic, unSavePic as _unSavePic } from '../../actions/picActions';\nimport { Link, withRouter } from \"react-router-dom\";\n\nvar Pic =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(Pic, _Component);\n\n  function Pic() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, Pic);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(Pic)).call.apply(_getPrototypeOf2, [this].concat(args)));\n\n    _this.handleSavePic = function (e) {\n      e.preventDefault();\n\n      _this.props.savePic(_this.props.pic);\n    };\n\n    _this.handleUnSavePic = function (e) {\n      e.preventDefault();\n\n      _this.props.unSavePic(_this.props.pic);\n    };\n\n    _this.handleArtistLinkClick = function (e) {\n      e.preventDefault();\n\n      _this.props.unSavePic(_this.props.pic);\n    };\n\n    _this.renderSaveToggle = function () {\n      if (_this.props.currentUser.username) {\n        var userHasSavedPic = _this.props.currentUser.pics.map(function (picIdObj) {\n          return picIdObj.id;\n        }).includes(_this.props.pic.id);\n\n        if (userHasSavedPic) {\n          return React.createElement(\"p\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 34\n            },\n            __self: this\n          }, React.createElement(\"a\", {\n            href: \"/\",\n            onClick: function onClick(e) {\n              return _this.handleUnSavePic(e);\n            },\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 34\n            },\n            __self: this\n          }, \"UnSave\"));\n        } else {\n          return React.createElement(\"p\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 36\n            },\n            __self: this\n          }, React.createElement(\"a\", {\n            href: \"/\",\n            onClick: function onClick(e) {\n              return _this.handleSavePic(e);\n            },\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 36\n            },\n            __self: this\n          }, \"Save\"));\n        }\n      }\n    };\n\n    return _this;\n  }\n\n  _createClass(Pic, [{\n    key: \"render\",\n    value: function render() {\n      var pic = this.props.pic;\n      return React.createElement(React.Fragment, null, React.createElement(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 47\n        },\n        __self: this\n      }, React.createElement(\"img\", {\n        alt: \"picInList\",\n        src: pic.url,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 47\n        },\n        __self: this\n      })), React.createElement(Link, {\n        to: \"/artist_page\",\n        onClick: this.handleArtistLinkClick,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 48\n        },\n        __self: this\n      }, pic.artist.name), this.renderSaveToggle(), React.createElement(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 51\n        },\n        __self: this\n      }, \" - \"));\n    }\n  }]);\n\n  return Pic;\n}(Component);\n\nvar mapStateToProps = function mapStateToProps(state) {\n  return {\n    currentUser: state.authReducer.currentUser\n  };\n};\n\nvar mapDispatchToProps = function mapDispatchToProps(dispatch) {\n  return {\n    savePic: function savePic(pic) {\n      return dispatch(_savePic(pic));\n    },\n    unSavePic: function unSavePic(pic) {\n      return dispatch(_unSavePic(pic));\n    }\n  };\n};\n\nexport default withRouter(connect(mapStateToProps, mapDispatchToProps)(Pic));","map":{"version":3,"sources":["/Users/peter/Development/code/proj-photo-feed/photo-feed-react/src/components/Pics/Pic.js"],"names":["React","Component","connect","savePic","unSavePic","Link","withRouter","Pic","handleSavePic","e","preventDefault","props","pic","handleUnSavePic","handleArtistLinkClick","renderSaveToggle","currentUser","username","userHasSavedPic","pics","map","picIdObj","id","includes","url","artist","name","mapStateToProps","state","authReducer","mapDispatchToProps","dispatch"],"mappings":"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","sourcesContent":["import React, {Component} from 'react';\nimport {connect} from 'react-redux'\nimport { savePic, unSavePic } from '../../actions/picActions'\nimport { Link, withRouter } from \"react-router-dom\";\n\n\n\n\nclass Pic extends Component {\n    // constructor(props) {\n    //     super(props);\n    // }\n\n    handleSavePic = (e) => {\n        e.preventDefault()\n        this.props.savePic(this.props.pic)\n        \n    }\n\n    handleUnSavePic = (e) => {\n        e.preventDefault()\n        this.props.unSavePic(this.props.pic)\n    }\n    \n    handleArtistLinkClick = (e) => {\n        e.preventDefault()\n        this.props.unSavePic(this.props.pic)\n    }\n\n    renderSaveToggle = () => {\n        if (this.props.currentUser.username){\n            let userHasSavedPic = this.props.currentUser.pics.map(picIdObj => picIdObj.id).includes(this.props.pic.id)\n            if (userHasSavedPic) {\n                return <p><a href=\"/\" onClick={(e) => this.handleUnSavePic(e)}>UnSave</a></p>\n            } else {\n                return <p><a href=\"/\" onClick={(e) => this.handleSavePic(e)}>Save</a></p>\n            }\n        }\n    }\n\n    \n    render () {\n        const pic = this.props.pic\n        \n        return (\n            <>\n                <p><img alt=\"picInList\" src={pic.url}/></p>\n                <Link to=\"/artist_page\" onClick={this.handleArtistLinkClick}>{pic.artist.name}</Link>\n                \n                {this.renderSaveToggle()}\n                <p> - </p>\n            </>\n        )\n    }\n} \n\nconst mapStateToProps = (state) => {\n    return {currentUser: state.authReducer.currentUser}\n}\n\nconst mapDispatchToProps = (dispatch) => ({\n    savePic: (pic) => dispatch(savePic(pic)),\n    unSavePic: (pic) => dispatch(unSavePic(pic))\n  })\n\nexport default withRouter(connect(mapStateToProps, mapDispatchToProps)(Pic))"]},"metadata":{},"sourceType":"module"}