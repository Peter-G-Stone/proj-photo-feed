{"ast":null,"code":"import _classCallCheck from \"/Users/peter/Development/code/proj-photo-feed/photo-feed-react/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/peter/Development/code/proj-photo-feed/photo-feed-react/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/peter/Development/code/proj-photo-feed/photo-feed-react/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/peter/Development/code/proj-photo-feed/photo-feed-react/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/peter/Development/code/proj-photo-feed/photo-feed-react/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/peter/Development/code/proj-photo-feed/photo-feed-react/src/components/Pics/Pic.js\";\nimport React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport { savePic as _savePic, unSavePic as _unSavePic, fetchArtistPics as _fetchArtistPics } from '../../actions/picActions';\nimport { Link, withRouter } from \"react-router-dom\";\nimport Button from 'react-bootstrap/Button';\n\nvar Pic =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(Pic, _Component);\n\n  function Pic() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, Pic);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(Pic)).call.apply(_getPrototypeOf2, [this].concat(args)));\n\n    _this.handleSavePic = function (e) {\n      e.preventDefault();\n\n      _this.props.savePic(_this.props.pic);\n    };\n\n    _this.handleUnSavePic = function (e) {\n      e.preventDefault();\n\n      _this.props.unSavePic(_this.props.pic);\n    };\n\n    _this.handleArtistLinkClick = function (e) {// this.props.fetchArtistPics(this.props.pic.artist_id)\n    };\n\n    _this.renderSaveToggle = function () {\n      if (_this.props.currentUser.username) {\n        var userHasSavedPic = _this.props.currentUser.pics.map(function (picIdObj) {\n          return picIdObj.id;\n        }).includes(_this.props.pic.id);\n\n        if (userHasSavedPic) {\n          return React.createElement(\"p\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 35\n            },\n            __self: this\n          }, React.createElement(Button, {\n            variant: \"primary\",\n            onClick: function onClick(e) {\n              return _this.handleUnSavePic(e);\n            },\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 35\n            },\n            __self: this\n          }, \"UnSave\"), \" from \", React.createElement(Link, {\n            to: \"/saved_pics\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 35\n            },\n            __self: this\n          }, \"Your Collection\"));\n        } else {\n          return React.createElement(\"p\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 37\n            },\n            __self: this\n          }, React.createElement(Button, {\n            variant: \"primary\",\n            onClick: function onClick(e) {\n              return _this.handleSavePic(e);\n            },\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 37\n            },\n            __self: this\n          }, \"Save\"));\n        }\n      }\n    };\n\n    return _this;\n  }\n\n  _createClass(Pic, [{\n    key: \"render\",\n    value: function render() {\n      var pic = this.props.pic;\n      return React.createElement(React.Fragment, null, React.createElement(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 48\n        },\n        __self: this\n      }, React.createElement(\"img\", {\n        alt: \"picInList\",\n        src: pic.url,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 48\n        },\n        __self: this\n      })), React.createElement(Link, {\n        to: pic.artist.name,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 49\n        },\n        __self: this\n      }, pic.artist.name), this.renderSaveToggle(), React.createElement(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 52\n        },\n        __self: this\n      }, \" - \"));\n    }\n  }]);\n\n  return Pic;\n}(Component);\n\nvar mapStateToProps = function mapStateToProps(state) {\n  return {\n    currentUser: state.authReducer.currentUser\n  };\n};\n\nvar mapDispatchToProps = function mapDispatchToProps(dispatch) {\n  return {\n    savePic: function savePic(pic) {\n      return dispatch(_savePic(pic));\n    },\n    unSavePic: function unSavePic(pic) {\n      return dispatch(_unSavePic(pic));\n    },\n    fetchArtistPics: function fetchArtistPics(artistId) {\n      return dispatch(_fetchArtistPics(artistId));\n    }\n  };\n};\n\nexport default withRouter(connect(mapStateToProps, mapDispatchToProps)(Pic));","map":{"version":3,"sources":["/Users/peter/Development/code/proj-photo-feed/photo-feed-react/src/components/Pics/Pic.js"],"names":["React","Component","connect","savePic","unSavePic","fetchArtistPics","Link","withRouter","Button","Pic","handleSavePic","e","preventDefault","props","pic","handleUnSavePic","handleArtistLinkClick","renderSaveToggle","currentUser","username","userHasSavedPic","pics","map","picIdObj","id","includes","url","artist","name","mapStateToProps","state","authReducer","mapDispatchToProps","dispatch","artistId"],"mappings":"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","sourcesContent":["import React, {Component} from 'react';\nimport {connect} from 'react-redux'\nimport { savePic, unSavePic, fetchArtistPics } from '../../actions/picActions'\nimport { Link, withRouter } from \"react-router-dom\";\nimport Button from 'react-bootstrap/Button'\n\n\n\n\nclass Pic extends Component {\n    // constructor(props) {\n    //     super(props);\n    // }\n\n    handleSavePic = (e) => {\n        e.preventDefault()\n        this.props.savePic(this.props.pic)\n        \n    }\n\n    handleUnSavePic = (e) => {\n        e.preventDefault()\n        this.props.unSavePic(this.props.pic)\n    }\n    \n    handleArtistLinkClick = (e) => {\n        // this.props.fetchArtistPics(this.props.pic.artist_id)\n\n    }\n\n    renderSaveToggle = () => {\n        if (this.props.currentUser.username){\n            let userHasSavedPic = this.props.currentUser.pics.map(picIdObj => picIdObj.id).includes(this.props.pic.id)\n            if (userHasSavedPic) {\n                return <p><Button variant=\"primary\" onClick={(e) => this.handleUnSavePic(e)}>UnSave</Button> from <Link to=\"/saved_pics\">Your Collection</Link></p>\n            } else {\n                return <p><Button variant=\"primary\" onClick={(e) => this.handleSavePic(e)}>Save</Button></p>\n            }\n        }\n    }\n\n    \n    render () {\n        const pic = this.props.pic\n        \n        return (\n            <>\n                <p><img alt=\"picInList\" src={pic.url}/></p>\n                <Link to={pic.artist.name}>{pic.artist.name}</Link>\n                \n                {this.renderSaveToggle()}\n                <p> - </p>\n            </>\n        )\n    }\n} \n\nconst mapStateToProps = (state) => {\n    return {currentUser: state.authReducer.currentUser}\n}\n\nconst mapDispatchToProps = (dispatch) => ({\n    savePic: (pic) => dispatch(savePic(pic)),\n    unSavePic: (pic) => dispatch(unSavePic(pic)),\n    fetchArtistPics: (artistId) => dispatch(fetchArtistPics(artistId))\n  })\n\nexport default withRouter(connect(mapStateToProps, mapDispatchToProps)(Pic))"]},"metadata":{},"sourceType":"module"}